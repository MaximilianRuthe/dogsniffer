<!DOCTYPE html>
<!--
    Copyright (c) 2012-2014 Adobe Systems Incorporated. All rights reserved.

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />	
		<link rel='stylesheet' id='icons-css'  href='css/jquery.mobile-1.4.5.min.css' type='text/css' media='all' />
		<link rel='stylesheet' id='icons-css'  href='css/druid.css' type='text/css' media='all' />
		<link rel="stylesheet" type="text/css" href="css/index.css" />	
        <title>Dog Sniffer</title>		
		<script type="text/javascript" src="js/jquery.js"></script>
		<script type="text/javascript" src="cordova.js"></script>
		<script type='text/javascript' src='js/jquery.mobile-1.4.5.min.js'></script>		
		<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>
		<script type='text/javascript' src='js/gmaps.js'></script>
	<script>
var directions;
var page_title;
$(document).on('pagebeforeshow', "#single", function (event, data) {
    var parameters = $(this).data("url").split("?")[1];;
    parameter = parameters.replace("id=",""); 
    DS.singleView(parameter);
});
$( document ).on( "pagecreate", "#home", function() {
	DS.onDeviceReady();
    $( "#show-more a" ).on( "click", function( e ){        
        DS.letDogsOut();
        e.preventDefault();
    });	
 	$( "#settings" ).on( "click", function( e ){        
        $( "#poo" ).popup( "close" );  
        e.preventDefault();
    });	
	$('.onchange').on( "change", function( e ){   
		DS.city = $('#opt-city').val();
		DS.zip = $('#opt-zip').val();	
		DS.term = '';
		DS.refresh_list();  
        DS.letDogsOut();
		e.preventDefault();
    });	
});
$( document ).on( "pagecreate", "#search", function() {
	/*
	$('.onchange').on( "change", function( e ){   
		DS.search = $('#s').val();	 
		DS.city = $('#opt-city').val();
		DS.zip = $('#opt-zip').val();	
		DS.refresh_list();  
        DS.letDogsOut();
		e.preventDefault();
    });	
	*/
	$('#s').on( "change", function( e ){   
		DS.search = $('#s').val();	 
		DS.zip = '';	
		DS.refresh_list();  
        DS.letDogsOut();
		e.preventDefault();
    });	
	$('#opt-category').on( "change", function( e ){
		DS.refresh_list();
		DS.term = $('#opt-category').val();
		if (DS.term !== 'all'){
			DS.letDogsOut(DS.term);
		} else {
			DS.term = '';
			DS.letDogsOut();
		}
	});
});
$( document ).on( "pagecreate", "#single", function() {
	var stickyOffset = 40;
	$(document).on('scrollstart', function(){ 
		if ($(window).scrollTop() >= stickyOffset) $('#single-header h1').html(page_title);
		else  $('#single-header h1').html('Dog Sniffer');
	});
	$(document).on('scrollstop', function(){ 
		if ($(window).scrollTop() >= stickyOffset) $('#single-header h1').html(page_title);
		else  $('#single-header h1').html('Dog Sniffer');
	});    
    $( "#map-pop" ).on({
        popupbeforeposition: function() {
            var size = DS.scale( 480, 320, 0, 1 ),
                w = size.width,
                h = size.height;
            $( "#mage-map" ).css( { "width" : w, "height" : h } );
			directions.refresh();
			directions.idle();
			directions.fitZoom();	
        },
        popupafterclose: function() {
            $( "#map-map" ).css( { "width" : 0, "height" : 0 } );
        }
    });
});
var DS = {
	address: '',
	city: '',
    zip: '',
	search: '',
	term: '',
    offset: 0,
	post_type: 'listing',
	url: '',
	urlCatch: '',
	pp: 5,	
	origin: [],
	nearby: false,
	single: {title:'',about:'',hours:'',website:''},
	singleView: function(singleID){
		var city = DS.city;
		var barkback = 'http://dogsniffer.com/'+city+'/wp-json/posts/'+singleID;	
		var mapStatic;
		$.ajax({
		type: 'GET',
		url: barkback,
		dataType: 'json',
      	success: function( value ) {		
			console.log(value);
			var count = value.review_count;
			var reviews = '<div class="average-rating"><div class="author-rating"><span style="width:'+value.rating+'%;"></span></div>';
			if (count > 1){
				reviews = reviews + ' <div class="review-count"><span itemprop="reviewCount">'+count+'</span> reviews</div>';
			} else if (count == 1){
				reviews = reviews + '<div class="review-count"><span itemprop="reviewCount">'+count+'</span> review</div>';
			}
			reviews = reviews + '</div>';
			var img = 'http://dogsniffer.com/la/wp-content/themes/Gryphon/mage/images/timthumb.php?src=http://dogsniffer.com//wp-content/themes/Gryphon/mage/images/dining.png&w=90&h=90&zc=1';
			//if (value.featured_image !== null && value.featured_image !== '' ){
			//	thumb = value.featured_image.attachment_meta;
				//if (thumb.sizes.thumbnail !== undefined && thumb.sizes.thumbnail !== ''){
			//		img = thumb.sizes.thumbnail.url;
			//	}						
			//}
			img = '<img src="'+img+'" class="thumbnail" />';
		
			GMaps.geocode({
			address: value.street+', '+value.city+', '+value.zip,
			callback: function(results, status) {
				if (status == 'OK') {
					var latlng = results[0].geometry.location;
					url = GMaps.staticMapURL({
						size: [800, 180],
						lat: latlng.lat(),
						lng: latlng.lng(),
						markers: [{lat: latlng.lat(),lng: latlng.lng()}]
					});
					//DS.nearby = true;
					DS.origin = [34.0544902,-118.4413104];
					
					if (DS.nearby){
					directions = new GMaps({
						div: '#mage-map',
						lat: latlng.lat(),
						lng: latlng.lat(),
						disableDefaultUI: true,
						zoom: 12,
						//height: '320px',
						//width: '480px',
						idle: function(){
							directions.refresh();
						},
						resize: function(){
							var center = directions.getCenter();
							directions.setCenter(center.lat(), center.lng());
						}
					});
					
					directions.addMarker({
						lat: DS.origin[0],
						lng: DS.origin[1]
					});
					directions.addMarker({
						lat: latlng.lat(),
						lng: latlng.lng(),
					});
					directions.fitZoom();		
					directions.drawRoute({
						origin: DS.origin,
						destination: [latlng.lat(), latlng.lng()],
                        travelMode: 'driving',
                        strokeColor: '#131540',
                        strokeOpacity: 0.6,
                        strokeWeight: 6
					});					
					var distance = 0;
					var time = 0;
					directions.getRoutes({
						origin: DS.origin,
						destination: [latlng.lat(), latlng.lng()],
						callback: function (e) {
						console.log(e);
						
                            for (var i=0; i<e[0].legs.length; i++) {
								time += e[0].legs[i].duration.value;
								distance += e[0].legs[i].distance.value;
                            }
							time = Math.round(time / 60);
							distance = (Math.ceil( distance * 0.62137 ) / 1000).toFixed(1);
							$(".dist").append('<div class="dist-time">'+time+' min</div>'+distance+' miles');
                        }
					});
					} else {
						$('.page-directions').remove();
					}
					$(".mapbox").css('background-image','url('+url+')');
					$(".map-add").append(value.street+'<br />'+value.city+', '+value.zip);
					
					
				}
			}
			});	
			var cat = category = hours = openDay = website = theTime = '';
			if (value.terms.length !== 0) {
				cat = value.terms.type[0].slug;
				category = '<p class="category">'+value.terms.type[0].name+'</p>';
			}
			if (value.cast !== undefined){
			var today = new Date();
			var weekdays = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
			var weekday = weekdays[today.getDay()];
			$.each({'Monday':'mon','Tuesday':'tue','Wednesday':'wed','Thursday':'thu','Friday':'fri','Saturday':'sat','Sunday':'sun'}, function(day,hour){
				theTime = value.cast['mage_'+hour+'-from'] || '';	
				if (theTime !== ''){ 
					hours += '<strong>'+day+':</strong> '+value.cast['mage_'+hour+'-from']+' - '+value.cast['mage_'+hour+'-to']+'<br />';
					if (weekday === day) openDay = '<div class="today">Hours Today: '+value.cast['mage_'+hour+'-from']+' - '+value.cast['mage_'+hour+'-to']+'</div>';
				} else {
				
				
				}
			});
			var website = value.cast['mage_url'];
			//if (hours !== '') $("#listing-about").append('<h2>Hours</h2>'+hours+'<hr />');
			//if (website !== '') $("#listing-about").append('<h2>Website</h2><a href="'+website+'">'+website+'</a><hr />');
			if (hours !== '') $("#listing-more").append('<li data-role="list-divider">Hours</li><li>'+hours+'</li>');
			if (website !== '') $("#listing-more").append('<li data-role="list-divider">Website</li><li><a href="'+website+'">'+website+'</a></li>');
			}
			page_title = value.title;
			var sniffed = '<h2>'+value.title+'</h2>'+reviews+openDay+category;			
			$(".entry-header").append(sniffed);	
			$("#listing-about").append('<h2>About</h2><p>'+value.content+'</p>');
			$("#listing-more").append('<li data-role="list-divider">About</li><li>'+value.content+'</li>');
			$( "#listing-more" ).listview( "refresh" );
			$("#tel a").attr("href", 'tel:'+value.phone);
			$("#tel a").append(' '+value.phone);			
			DS.showReviews(barkback+'/comments');  
			DS.processURL();
			if (value.terms.length !== 0) {
				DS.processURL(cat,3);
				DS.showRelated(DS.url);     
			}  
            },
            timeout: 6000,  // Timeout after 6 seconds
            error: function(jqXHR, textStatus, errorThrown) {
                console.log("Error, textStatus: " + textStatus + " errorThrown: "+ errorThrown);                
            }
        });
		
	},
	refresh_list: function (){
		$('.druid-list-item').remove();
		DS.offset = 0;
	},
	pauseInputs: function (){
		$('select').selectmenu('disable');
		$('button, a.ui-btn').attr('disabled','disabled');
		$('a.ui-btn').addClass('ui-disabled');
		$('input[type="text"], input[type="search"]').attr('disabled','disabled');
		$.mobile.loading( "show", {
			text: 'Sniffing Out Locations Near You',
			textVisible: true,
			theme: 'z',
			html: ""
		});	
	},
	playInputs: function (){
		$('select').selectmenu('enable');
		$('button').removeAttr('disabled','disabled');
		$('a.ui-btn').removeClass('ui-disabled');
		$('input[type="text"], input[type="search"]').removeAttr('disabled','disabled');
		$.mobile.loading( "hide" );
	},
	processURL: function(cat,count,display){			
		var city = DS.city;
		var zip = DS.zip;	
		var s = DS.search;	
		count = count || DS.pp;		
		var s1 = s2 = s3 = s4 = '';
		var s1 = '&type='+DS.post_type;		
		if (s !== '') {
			s2 = "&filter[s]="+s;
		}						
		if (cat !== '') {
			s3 = "&filter[type]="+cat;
		}
		if (zip !== ''){
			s4 = "&filter[meta_key]=mage_zip&filter[meta_value]="+zip;
		}
		var barkback = 'http://dogsniffer.com/'+city+'/wp-json/posts?filter[post_status]=publish&filter[orderby]=date&filter[order]=desc&filter[posts_per_page]='+count+
		'&filter[offset]='+DS.offset;		
		DS.urlCatch = barkback + s1 + s2;
		DS.url = barkback + s1 + s2 + s3 + s4;
	
	},
	letDogsOut: function (cat,first){
		DS.pauseInputs();
		cat = cat || DS.term;
		first = first || false;
		DS.processURL(cat);	
		var message = 'We couldn\'t sniff out any listings for your search.';
		$.ajax({
			type: 'GET',
			url: DS.url,
			dataType: 'json',
            success: function(pup) {
				if ($.isEmptyObject(pup)){
					if (DS.zip !== '') message = 'We couldn\'t sniff out any listings for your search in <span style="color:#dd33333">'+DS.zip+'</span>.';
					DS.zip = '';
					DS.search = '';
					DS.term = '';
					if (!first){
						
						$( "#poo h3.ui-title" ).html(message);
						$( "#poo" ).popup( "open" );  
					}
					DS.showMore(DS.urlCatch);
				} else {
					DS.showMore(DS.url);
				}
			},
			timeout: 10000,  // Timeout after 6 seconds
            error: function(jqXHR, textStatus, errorThrown) {
                console.log("Error, textStatus: " + textStatus + " errorThrown: "+ errorThrown);
				$.mobile.loading( "hide" );
            }
		});
	},
    showMore: function(whistle) {			
        $.ajax({
			type: 'GET',
			url: whistle,
			dataType: 'json',
            success: function( response ) {
				var sniffed = '';				
        		$.each(response, function(index, value) {
					DS.offset = DS.offset + 1;
					console.log(value);
					var count = value.review_count;
					var cat = '';
					var reviews = '<div class="average-rating"><div class="author-rating"><span style="width:'+value.rating+'%;"></span></div>';
					if (count > 1){
						reviews += ' <div class="review-count"><span itemprop="reviewCount">'+count+'</span> reviews</div>';
					} else if (count == 1){
						reviews += '<div class="review-count"><span itemprop="reviewCount">'+count+'</span> review</div>';
					}
					reviews += '</div>';
					var img = 'http://dogsniffer.com/la/wp-content/themes/Gryphon/mage/images/timthumb.php?src=http://dogsniffer.com//wp-content/themes/Gryphon/mage/images/dining.png&w=90&h=90&zc=1';
					if (value.featured_image !== null && value.featured_image !== '' ){
						thumb = value.featured_image.attachment_meta;
						if (thumb.sizes.thumbnail !== undefined && thumb.sizes.thumbnail !== ''){
							img = thumb.sizes.thumbnail.url;
						}						
					}
					if (value.terms.length !== 0) cat = '<p>'+value.terms.type[0].name+'</p>';
					img = '<img src="'+img+'" class="thumbnail" />';
					sniffed = sniffed + '<li class="druid-list-item ui-li-has-thumb item-'+value.type+'">' +
			      	'<a href="single.html?id='+value.ID+'" class="ui-btn ui-btn-icon-right ui-icon-carat-r">' + img +'<h2>'+value.title+'</h2>' + reviews +
					'<p><strong>'+value.street+', '+value.city+'</strong></p>' + 
					cat + 
					'</a>'+
					'</li>';
				 });
                $( ".druid-listings" ).find( "#show-more" ).before(sniffed);
                $( ".druid-listings" ).listview( "refresh" );
                DS.playInputs();
            },
            timeout: 10000,  // Timeout after 10 seconds
            error: function(jqXHR, textStatus, errorThrown) {
                console.log("Error, textStatus: " + textStatus + " errorThrown: "+ errorThrown);                
            }
        });
    },
    showRelated: function(whistle) {			
        $.ajax({
			type: 'GET',
			url: whistle,
			dataType: 'json',
            success: function( response ) {
				var sniffed = '';	
				//$( ".druid-related" ).append('<li data-role="list-divider">Similar Listings</li>');
			
        		$.each(response, function(index, value) {
					DS.offset = DS.offset + 1;
					console.log(value);
					var count = value.review_count;
					var reviews = cat = '';
					if (count > 1){
						reviews = '<div class="average-rating"><div class="author-rating"><span style="width:'+value.rating+'%;"></span></div></div>';
					} else if (count == 1){
						reviews = '<div class="average-rating"><div class="author-rating"><span style="width:'+value.rating+'%;"></span></div></div>';
					}
					var img = 'http://dogsniffer.com/la/wp-content/themes/Gryphon/mage/images/timthumb.php?src=http://dogsniffer.com//wp-content/themes/Gryphon/mage/images/dining.png&w=90&h=90&zc=1';
					if (value.featured_image !== null && value.featured_image !== '' ){
						thumb = value.featured_image.attachment_meta;
						if (thumb.sizes.thumbnail !== undefined && thumb.sizes.thumbnail !== ''){
							img = thumb.sizes.thumbnail.url;
						}						
					}
					if (value.terms.length !== 0) cat = '<p>'+value.terms.type[0].name+'</p>';
					img = '<img src="'+img+'" class="thumbnail" />';
					sniffed = sniffed + '<li class="druid-list-item ui-li-has-thumb item-'+value.type+'">' +
			      	'<a href="single.html?id='+value.ID+'" class="ui-btn ui-btn-icon-right ui-icon-carat-r">' + img +'<h2>'+value.title+'</h2>' + reviews +
					'<p><strong>'+value.street+', '+value.city+'</strong></p>' + 
					cat + 
					'</a>'+
					'</li>';
				 });
				if (sniffed !== ''){
                	$( ".druid-related" ).append(sniffed);
               		$( ".druid-related" ).listview( "refresh" );
				} else {
					$( ".contain-related" ).remove();
				}
                DS.playInputs();
            },
            timeout: 10000,  // Timeout after 10 seconds
            error: function(jqXHR, textStatus, errorThrown) {
                console.log("Error, textStatus: " + textStatus + " errorThrown: "+ errorThrown);                
            }
        });
    },
	showReviews: function(listen) {
        $.ajax({
			type: 'GET',
			url: listen,
			dataType: 'json',
            success: function( response ) {
				var sniffed = '';	
				//$( ".druid-reviews" ).append('<li data-role="list-divider">Reviews</li>');
        		$.each(response, function(index, value) {
					console.log(value);
					var img = value.author.avatar;
					var fname = value.author.first_name;
					var review = value.content;
					/*
					DS.offset = DS.offset + 1;					
					var count = value.review_count;
					var reviews = '';
					if (count > 1){
						reviews = '<div class="average-rating"><div class="author-rating"><span style="width:'+value.rating+'%;"></span></div></div>';
					} else if (count == 1){
						reviews = '<div class="average-rating"><div class="author-rating"><span style="width:'+value.rating+'%;"></span></div></div>';
					}
					*/
					sniffed = sniffed + '<li class="druid-list-item ui-li-has-thumb">' +
			      	'<img src="'+img+'" class="thumbnail" />'+ review +
					'<em>'+fname+'</em>' + 
					'</li>';
				});
				if (sniffed !== ''){
                	$( ".druid-reviews" ).append(sniffed);
               		$( ".druid-reviews" ).listview( "refresh" );
				} else {
					$( ".contain-reviews" ).remove();
				}
              
                //DS.playInputs();
            },
            timeout: 10000,  // Timeout after 10 seconds
            error: function(jqXHR, textStatus, errorThrown) {
                console.log("Error, textStatus: " + textStatus + " errorThrown: "+ errorThrown);                
            }
        });
    },
	onDeviceReady: function() {
		navigator.geolocation.getCurrentPosition(DS.onSuccess, DS.onError);     
	},
	onSuccess: function(position) {
	var zone = $('#opt-city');
	var supported = ['Los Angeles','Orange County','Santa Barbara'];
	var lat = position.coords.latitude;
	var lng = position.coords.longitude;
	var latlng = new google.maps.LatLng(lat, lng);
	DS.origin = [lat, lng];
	geocoder = new google.maps.Geocoder();
	geocoder.geocode({'latLng': latlng}, function(results, status) {
			if (status == google.maps.GeocoderStatus.OK) {		
				DS.address = results[0].formatted_address;
				console.log(results);
				if (results[1]) {				
					for (var i=0; i<results[0].address_components.length; i++) {
						for (var b=0;b<results[0].address_components[i].types.length;b++) {		
							if (results[0].address_components[i].types[b] == "administrative_area_level_1") {
								city = results[0].address_components[i];
								DS.city = city.long_name;								
							}
							if ($.inArray(DS.city, supported) !== -1){
								if (DS.city == 'Santa Barbara'){
									DS.city = 'sb';
								} else if (DS.city == 'San Francisco') {
									DS.city = 'sf';
								} else if (DS.city == 'Orange County') {
									DS.city = 'oc';
								} else {
									DS.city = 'la';
								}								
								zone.val(DS.city).attr('selected', true).siblings('option').removeAttr('selected');
								zone.selectmenu();
								zone.selectmenu("refresh", true);
							} else {
								DS.city = 'la';
								zone.val('la').attr('selected', true).siblings('option').removeAttr('selected');
								zone.selectmenu();
								zone.selectmenu("refresh", true);
							}								
							if (results[0].address_components[i].types[b] == "postal_code") {
								DS.zip = results[0].address_components[i].long_name;	
								DS.nearby = true;
								$('#opt-zip').val(DS.zip);	
								var add = results[0].address_components[0].long_name+' '+results[0].address_components[1].long_name;
								$('#opt-add').val(add);	
								break;
							}
						}
					}					
					DS.letDogsOut('',true);					
				} else {
					alert("No results found");
				}				
			} else {
				alert("Geocoder failed due to: " + status);
			}
		});
	},
	scale: function( width, height, padding, border ){
	 // The window width and height are decreased by 30 to take the tolerance of 15 pixels at each side into account
        var scrWidth = $( window ).width() - 30,
            scrHeight = $( window ).height() - 30,
            ifrPadding = 2 * padding,
            ifrBorder = 2 * border,
            ifrWidth = width + ifrPadding + ifrBorder,
            ifrHeight = height + ifrPadding + ifrBorder,
            h, w;
        if ( ifrWidth < scrWidth && ifrHeight < scrHeight ) {
            w = ifrWidth;
            h = ifrHeight;
        } else if ( ( ifrWidth / scrWidth ) > ( ifrHeight / scrHeight ) ) {
            w = scrWidth;
            h = ( scrWidth / ifrWidth ) * ifrHeight;
        } else {
            h = scrHeight;
            w = ( scrHeight / ifrHeight ) * ifrWidth;
        }
        return {
            'width': w - ( ifrPadding + ifrBorder ),
            'height': h - ( ifrPadding + ifrBorder )
        }
    }
};
	</script>
    </head>
    <body>
	<div data-role="page" id="home" class="page">
	<div data-role="header" data-position="fixed">
		<h1>Dog Sniffer</h1>
		<a href="#options" data-role="button" data-icon="gear" class="ui-btn-right ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-right ui-icon-gear">Options</a>
	</div>
	<div role="main" class="ui-content">
	<input type="text" placeholder="Zip Code" id="opt-zip" name="opt-zip" value="" data-clear-btn="true" class="onchange">
	<select name="opt-city" id="opt-city" data-native-menu="false" class="onchange">
				<option>Choose A City</option>
				<option value="la">Los Angeles</option>
				<option value="sb">Santa Barbara</option>
				<option value="oc">Orange County</option>
			</select>	
	<ul class="druid-listings" data-role="listview" data-inset="true" class="ui-corner-all ui-shadow">
		<li id="show-more" data-icon="plus" ><a href=""><h1>Show more</h1></a></li>
	</ul>
	</div>
		<div data-role="footer" data-position="fixed" role="contentinfo">	
			<div data-role="navbar">
				<ul>
					<li><a href="index.html" class="ui-btn-active" data-icon="location" >Nearby</a></li>
					<li><a href="search.html" data-icon="search">Search</a></li>
				</ul>
			</div><!-- /navbar -->
			<h4 style="display:none;" class="ui-title" role="heading" aria-level="1">Footer</h4>
		</div>
		<div data-role="panel" id="options" data-position="left" data-position-fixed="false" data-display="overlay">
			<h3>Search Options</h3>
					
			<input type="text" placeholder="Street" id="opt-add" name="opt-add" value="" data-clear-btn="true">
			
		</div>
		<div data-role="popup" id="poo">
			 <a href="#" data-rel="back" class="ui-btn ui-btn-b ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right">Close</a>
			<div data-role="header" data-theme="a"><h1>Oh Dog Poo!</h1></div>
			<div role="main" class="ui-content">
				<h3 class="ui-title"></h3>
				<p>You could try different category or search keyword, or even change your location settings.</p>
				<a href="#options" id="settings" data-role="button" class="ui-btn ui-corner-all ui-shadow ui-btn-inline">Settings</a>
				<a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline" data-rel="back">Back</a>
			</div>
		</div>
	</div>
    </body>
</html>